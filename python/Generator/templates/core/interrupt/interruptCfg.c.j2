/********************************************************************************
**                                                                             **
**                       GENERATED FILE BY CosmOS CustomBox                    **
**                                                                             **
*********************************************************************************
**                       DOXYGEN DOCUMENTATION INFORMATION                     **
*****************************************************************************//**
** @file interruptCfg.c
*********************************************************************************
<!--                interruptCfg Unit Local Group Definition                  -->
*********************************************************************************
** @defgroup Local_interruptCfg Local
** @ingroup interruptCfg_unit
** @brief interruptCfg locals
** @details lorem
********************************************************************************/
/********************************************************************************
**                           START OF THE SOURCE FILE                          **
********************************************************************************/
/********************************************************************************
**                            Include Files | Start                            **
********************************************************************************/
/* CORE interfaces */
#include "interrupt.h"
#include "interruptCfg.h"
#include "threadCfg.h"
#include "core.h"
#include "os.h"

/* CIL interfaces */
#include "CILcore.h"
#include "CILinterrupt.h"
/********************************************************************************
**                            Include Files | Stop                             **
********************************************************************************/
/********************************************************************************
**                          Macro Definitions | Start                          **
********************************************************************************/
/********************************************************************************
  * DOXYGEN START GROUP                                                        **
  * *************************************************************************//**
  * @defgroup Macros_interruptCfg Macros
  * @ingroup Local_interruptCfg
  * @{
********************************************************************************/
/********************************************************************************
  * DOXYGEN STOP GROUP                                                         **
  * *************************************************************************//**
  * @} */
/*  Macros_interruptCfg
********************************************************************************/
/********************************************************************************
**                          Macro Definitions | Stop                           **
********************************************************************************/
/********************************************************************************
**                              Variables | Start                              **
********************************************************************************/
/********************************************************************************
  * DOXYGEN START GROUP                                                        **
  * *************************************************************************//**
  * @defgroup Variables_interruptCfg Variables
  * @ingroup Local_interruptCfg
  * @{
********************************************************************************/
/* @cond S */
__SEC_START(__OS_VARS_SECTION_START)
/* @endcond*/
CosmOS_InterruptVariableType InterruptsVar[INTERRUPT_NUM] __OS_VARS_SECTION
IS_INITIALIZED_TO{
{% for item in model.interrupts -%}
{{"    "}}{
        0,    /* BitWidthType numberOfRequests */
    },
{% endfor -%}
};
/* @cond S */
__SEC_STOP(__OS_VARS_SECTION_STOP)
/* @endcond*/

/* @cond S */
__SEC_START(__OS_CONSTS_SECTION_START)
/* @endcond*/
const CosmOS_InterruptConfigurationType
    InterruptsCfgConst[INTERRUPT_NUM] __OS_CONSTS_SECTION
IS_INITIALIZED_TO{
{% for item in model.interrupts -%}
{{"    "}}{
        &InterruptsVar[INTERRUPT_{{item.interruptId}}_ID],
        INTERRUPT_{{item.interruptId}}_ID,
        &ThreadsProgram{{item.thread.program.programId}}Core{{item.thread.program.core.coreId}}CfgConst[THREAD_{{item.thread.threadId}}_PROGRAM_{{item.thread.program.programId}}_CORE_{{item.thread.program.core.coreId}}_ID],
    },
{% endfor -%}
};
/* @cond S */
__SEC_STOP(__OS_CONSTS_SECTION_STOP)
/* @endcond*/
/********************************************************************************
  * DOXYGEN STOP GROUP                                                         **
  * *************************************************************************//**
  * @} */
/*  Variables_interruptCfg
********************************************************************************/
/********************************************************************************
**                              Variables | Stop                               **
********************************************************************************/
/********************************************************************************
**                         Function Prototypes | Start                         **
********************************************************************************/
/********************************************************************************
  * DOXYGEN DEF GROUP                                                          **
  * *************************************************************************//**
  * @defgroup Apis_interruptCfg_c API's
  * @ingroup Local_interruptCfg
********************************************************************************/
/********************************************************************************
  * DOXYGEN START GROUP                                                        **
  * *************************************************************************//**
  * @addtogroup Getters_interruptCfg_c Getters
  * @ingroup Apis_interruptCfg_c
  * @{
********************************************************************************/
/********************************************************************************
  * DOXYGEN STOP GROUP                                                         **
  * *************************************************************************//**
  * @} */
/*  Getters_interruptCfg_c
********************************************************************************/
/********************************************************************************
  * DOXYGEN START GROUP                                                        **
  * *************************************************************************//**
  * @addtogroup Setters_interruptCfg_c Setters
  * @ingroup Apis_interruptCfg_c
  * @{
********************************************************************************/
/********************************************************************************
  * DOXYGEN STOP GROUP                                                         **
  * *************************************************************************//**
  * @} */
/*  Setters_interruptCfg_c
********************************************************************************/
/********************************************************************************
  * DOXYGEN START GROUP                                                        **
  * *************************************************************************//**
  * @addtogroup General_interruptCfg_c General
  * @ingroup Apis_interruptCfg_c
  * @{
********************************************************************************/
/********************************************************************************
  * DOXYGEN STOP GROUP                                                         **
  * *************************************************************************//**
  * @} */
/*  General_interruptCfg_c
********************************************************************************/
/********************************************************************************
**                         Function Prototypes | Stop                          **
********************************************************************************/
/********************************************************************************
**                        Function Definitions | Start                         **
********************************************************************************/
{% for item in model.interrupts -%}
/* @cond S */
__SEC_START(__OS_FUNC_SECTION_START)
/* @endcond*/
__OS_FUNC_SECTION void
{{item.interruptHandlerFunc}}( void )
{
    BitWidthType coreId;
    CosmOS_OsStateType osState;

    CosmOS_OsConfigurationType * osCfg;
    CosmOS_CoreConfigurationType * coreCfg;

    coreId = CILcore_getCoreId();

    osCfg = os_getOsCfg();
    coreCfg = os_getCore( osCfg, coreId );
    osState = core_getCoreOsState( coreCfg );

    if ( osState IS_EQUAL_TO OS_STATE_ENUM__STARTED )
    {
        interrupt_trigger( INTERRUPT_{{item.interruptId}}_ID );
    }
};
/* @cond S */
__SEC_STOP(__OS_FUNC_SECTION_STOP)
/* @endcond*/
{% endfor -%}
/********************************************************************************
**                        Function Definitions | Stop                          **
********************************************************************************/
/********************************************************************************
**                           END OF THE SOURCE FILE                            **
********************************************************************************/
