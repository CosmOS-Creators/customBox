/********************************************************************************
**                                                                             **
**                       GENERATED FILE BY CosmOS CustomBox                    **
**                                                                             **
*********************************************************************************
**                       DOXYGEN DOCUMENTATION INFORMATION                     **
*****************************************************************************//**
** @file {{program.name}}.c
*********************************************************************************
<!--                           Version Information                            -->
*********************************************************************************
** @version {{version}}
** @author Generated by CosmOS CustomBox
*********************************************************************************	
<!--                                 Warnings                                 -->
*********************************************************************************
** @warning Modifying user sections comments can lead to removing user code 
**          during generating of the new CosmOS configuration
********************************************************************************/
/********************************************************************************
**                            Include Files | Start                            **
********************************************************************************/
#include "sysDefs.h"
#include "cosmosApi.h"
#include "stm32h7xx_hal.h"
#include "memoryMapping.h"
#include "cosmosTypesStd.h"
/********************************************************************************
**                            Include Files | Stop                             **
********************************************************************************/
/********************************************************************************
**                         Function Prototypes | Start                         **
********************************************************************************/
/* Task in the program {{program.name}} */
{% for task in program.tasks -%}
{% if not task.isSysJob -%}
{% if task.isIdle and switches.performanceScheduling -%}
{% else -%}
extern void {{task.name}}(void);
{% endif -%}
{% endif -%}
{% endfor -%}
/* Threads in the program {{program.name}} */
{% for thread in program.threads -%}
{% if thread.isIdle and not switches.performanceScheduling-%}
{% else -%}
extern void {{thread.name}}(void);
{% endif -%}
{% endfor -%}
/********************************************************************************
**                         Function Prototypes | Stop                          **
********************************************************************************/
/********************************************************************************  
**                           START OF THE SOURCE FILE                          **
********************************************************************************/
__SEC_START(__{{program.name.upper()}}_NOINIT_SECTION_START)
// If your compiler does not support pragmas use __{{program.name.upper()}}_NOINIT__SECTION
/********************************************************************************
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Start      **
** start_name ={{program.name}}_noInit
********************************************************************************/
{% for section in sections -%}
{% if section.name == program.name+"_noInit" -%}
{% for line in section.lines -%}
{{line}}
{% endfor -%}
{% endif -%}
{% endfor -%}
/********************************************************************************
** stop_name ={{program.name}}_noInit
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Stop       **
********************************************************************************/
__SEC_STOP(__{{program.name.upper()}}_NOINIT_SECTION_STOP)

__SEC_START(__{{program.name.upper()}}_INIT_SECTION_START)
// If your compiler does not support pragmas use __{{program.name.upper()}}_INIT_SECTION
/********************************************************************************
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Start      **
** start_name ={{program.name}}_init
********************************************************************************/
{% for section in sections -%}
{% if section.name == program.name+"_init" -%}
{% for line in section.lines -%}
{{line}}
{% endfor -%}
{% endif -%}
{% endfor -%}
/********************************************************************************
** stop_name ={{program.name}}_init
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Stop       **
********************************************************************************/
__SEC_STOP(__{{program.name.upper()}}_INIT_SECTION_STOP)

{% for task in program.tasks -%}
{% if not task.isSysJob -%}
{% if task.isIdle and switches.performanceScheduling -%}
{% else -%}
/********************************************************************************
** Task ID macro = TASK_{{task.taskId}}_PROGRAM_{{task.programId}}_CORE_{{task.coreId}}_ID
** Program ID macro = PROGRAM_{{task.programId}}_CORE_{{task.coreId}}_ID
** WCET macro = TASK_{{task.taskId}}_PROGRAM_{{task.programId}}_CORE_{{task.coreId}}_WCET
** Period of task in ticks = {{task.period}}
********************************************************************************/ 
void {{task.name}}(void)
{
/********************************************************************************
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Start      **
** start_name ={{task.name}}
********************************************************************************/
{% for section in sections -%}
{% if section.name == task.name -%}
{% for line in section.lines -%}
{{line}}
{% endfor -%}
{% endif -%}
{% endfor -%}
/********************************************************************************
** stop_name ={{task.name}}
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Stop       **
********************************************************************************/
};
{% endif -%}
{% endif -%}
{% endfor -%}

{% for thread in program.threads -%}
{% if thread.isIdle and not switches.performanceScheduling-%}
{% else -%}
/********************************************************************************
** Thread ID macro = THREAD_{{thread.threadId}}_PROGRAM_{{thread.programId}}_CORE_{{thread.coreId}}_ID
** Program ID macro = PROGRAM_{{thread.programId}}_CORE_{{thread.coreId}}_ID
********************************************************************************/ 
void {{thread.name}}(void)
{
/********************************************************************************
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Start      **
** start_name ={{thread.name}}
********************************************************************************/
{% for section in sections -%}
{% if section.name == thread.name -%}
{% for line in section.lines -%}
{{line}}
{% endfor -%}
{% endif -%}
{% endfor -%}
/********************************************************************************
** stop_name ={{thread.name}}
** DO NOT MODIFY THIS COMMENT !                      USER SECTION | Stop       **
********************************************************************************/
};
{% endif -%}
{% endfor -%}
/********************************************************************************
**                           END OF THE SOURCE FILE                            **
********************************************************************************/
